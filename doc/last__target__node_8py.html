<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ass1_RT2: scripts/last_target_node.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ass1_RT2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_53e6fa9553ac22a5646d2a2b2d7b97a1.html">scripts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">last_target_node.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Node that outputs the last target position set by the user.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab008b60400d4c4edee1ef9b1250d3cd2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="last__target__node_8py.html#ab008b60400d4c4edee1ef9b1250d3cd2">last_target_node.last_target_clbk</a> (msg)</td></tr>
<tr class="memdesc:ab008b60400d4c4edee1ef9b1250d3cd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for the target position subscription.  <a href="last__target__node_8py.html#ab008b60400d4c4edee1ef9b1250d3cd2">More...</a><br /></td></tr>
<tr class="separator:ab008b60400d4c4edee1ef9b1250d3cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007df04f635037aa7bc2e665b55c677e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="last__target__node_8py.html#a007df04f635037aa7bc2e665b55c677e">last_target_node.return_values</a> (req)</td></tr>
<tr class="memdesc:a007df04f635037aa7bc2e665b55c677e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service handler that returns the stored target coordinates.  <a href="last__target__node_8py.html#a007df04f635037aa7bc2e665b55c677e">More...</a><br /></td></tr>
<tr class="separator:a007df04f635037aa7bc2e665b55c677e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35020de80e5775e0b0b636da81273a9b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="last__target__node_8py.html#a35020de80e5775e0b0b636da81273a9b">last_target_node.main</a> ()</td></tr>
<tr class="memdesc:a35020de80e5775e0b0b636da81273a9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function that initializes the node and sets up communication.  <a href="last__target__node_8py.html#a35020de80e5775e0b0b636da81273a9b">More...</a><br /></td></tr>
<tr class="separator:a35020de80e5775e0b0b636da81273a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a932a074bf172052c47f4fc353d2ecdd4"><td class="memItemLeft" align="right" valign="top"><a id="a932a074bf172052c47f4fc353d2ecdd4"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>last_target_node.x</b> = 0.0</td></tr>
<tr class="separator:a932a074bf172052c47f4fc353d2ecdd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d0e8e8ed657efcde727657737166a2a"><td class="memItemLeft" align="right" valign="top"><a id="a7d0e8e8ed657efcde727657737166a2a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>last_target_node.y</b> = 0.0</td></tr>
<tr class="separator:a7d0e8e8ed657efcde727657737166a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Node that outputs the last target position set by the user. </p>
<dl class="section author"><dt>Author</dt><dd>Marco Petrosilli </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>15/03/2025</dd></dl>
<p>Subscribes to: <br  />
 /last_target</p>
<p>Services : <br  />
 target_coord</p>
<p>Description :</p>
<p>This node provides a service to retrieve the last target position. It subscribes to the '/last_target' topic to receive position updates, then stores these coordinates to be retrieved later through the 'target_coord' service. This functionality allows other nodes to query the most recent target position without needing to subscribe to the position topic themselves. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab008b60400d4c4edee1ef9b1250d3cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab008b60400d4c4edee1ef9b1250d3cd2">&#9670;&nbsp;</a></span>last_target_clbk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def last_target_node.last_target_clbk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for the target position subscription. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The PoseStamped message containing the target position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function is called whenever a new target position is published. It extracts the x and y coordinates from the received message and updates the global variables to store the most recent position data. The function handles coordinate transformation from the message format to simple x,y values that can be easily provided through the service. </p>

</div>
</div>
<a id="a35020de80e5775e0b0b636da81273a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35020de80e5775e0b0b636da81273a9b">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def last_target_node.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function that initializes the node and sets up communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function initializes the ROS node, sets up the subscriber to receive position updates, and advertises the service to provide coordinate information to other nodes. It then enters the main loop that keeps the node running until shutdown is requested. The node operates at a frequency of 10Hz, which balances responsiveness with system resource usage. </p>

</div>
</div>
<a id="a007df04f635037aa7bc2e665b55c677e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a007df04f635037aa7bc2e665b55c677e">&#9670;&nbsp;</a></span>return_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def last_target_node.return_values </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Service handler that returns the stored target coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The service request (empty in this case) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>target_coordResponse containing the x and y coordinates</dd></dl>
<p>This function handles requests to the 'target_coord' service. When called, it creates and returns a response object containing the current values of the global x and y coordinate variables. This service allows other nodes to query the last known target position without needing to manage their own subscription to position updates. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
